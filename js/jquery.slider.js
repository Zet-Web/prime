$(function(){$('.multiple-items').slick({infinite:true,slidesToShow:15,slidesToScroll:1});$.each($('.create-window_wrap'),function(){new CreateWindow($(this));});$.each($('.info-btn .open-popup'),function(){new Popup($(this));});})
var CreateWindow=function(obj){this.obj=obj;this.init();};CreateWindow.prototype={init:function(){var self=this;self.core=self.core();self.core.build();},core:function(){var self=this;return{build:function(){self.core.declareVariables();self.core.controlsActive();self.core.closeSlider();self.core.changeColor();},declareVariables:function(){self.controls=self.obj.find(".controls-panel");self.controlsA=self.controls.find("a");self.closeSlider=self.obj.find(".close-slider");self.colorSlider=self.obj.find(".color-slider");self.color=self.colorSlider.find('.multiple-items a');self.info=$('.info-btn')},controlsActive:function(){self.controlsA.on({click:function(){self.controlsA.removeClass('active');$(this).addClass('active');var curSliderName=$(this).attr('data-name'),curInfoName=$(this).attr('data-info'),curInfo=$('.'+curInfoName),curSlider=$('.'+curSliderName);self.colorSlider.css({"opacity":"0","z-index":"0"});curSlider.css({"opacity":"1","z-index":"1"});self.info.removeClass('active')
curInfo.addClass('active')
return false}});},closeSlider:function(){self.closeSlider.on({click:function(){self.colorSlider.css({"opacity":"0","z-index":"0"});return false}});},changeColor:function(){self.color.on({click:function(){var curItem=$(this).parents('.color-slider').attr('data-item'),colorName=$(this).attr('data-color')
$('.'+curItem).css('background','url("'+colorName+' ")');self.color.removeClass('active');$(this).addClass('active')
console.log(colorName)
return false}});}};}};var Popup=function(obj){this.obj=obj;this.body=$('body');this.init();};Popup.prototype={init:function(){var self=this;self.core=self.core();self.core.build();},core:function(){var self=this;return{build:function(){self.core.declareVariables();self.core.controls();},declareVariables:function(){self.wrap=self.obj.parent('.info-btn');self.popup=self.wrap.find(".info-popup");self.closePopup=self.popup.find(".close-popup")},controls:function(){self.obj.on({click:function(){self.core.displayBlock();return false}});self.body.on({click:function(){self.core.displayNone();}});self.closePopup.on({click:function(){self.core.displayNone();}});self.obj.on({click:function(event){event=event||window.event;if(event.stopPropagation){event.stopPropagation()}else{event.cancelBubble=true}}})},displayBlock:function(){self.obj.fadeOut(200)
self.popup.stop(true,true).fadeIn(200);},displayNone:function(){self.popup.fadeOut(200);self.obj.fadeIn(200)}};}};